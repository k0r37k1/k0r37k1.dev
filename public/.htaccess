# Security Headers for Apache/Netcup Hosting
# Place this file in the public/ directory

<IfModule mod_headers.c>
    # Prevent clickjacking
    Header always set X-Frame-Options "SAMEORIGIN"

    # Prevent MIME-sniffing
    Header always set X-Content-Type-Options "nosniff"

    # Control referrer information
    Header always set Referrer-Policy "strict-origin-when-cross-origin"

    # Force HTTPS (1 year)
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"

    # Permissions Policy - Disable sensitive features
    Header always set Permissions-Policy "accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()"
</IfModule>

# Cache Control for Performance
<IfModule mod_expires.c>
    ExpiresActive On

    # Cache static assets for 1 year
    <FilesMatch "\.(js|css|woff2|woff|ttf|webp|avif)$">
        ExpiresDefault "access plus 1 year"
        Header set Cache-Control "public, immutable"
    </FilesMatch>

    # Cache images for 30 days
    <FilesMatch "\.(png|jpg|jpeg|gif|svg)$">
        ExpiresDefault "access plus 30 days"
        Header set Cache-Control "public"
    </FilesMatch>

    # No cache for HTML
    <FilesMatch "\.html$">
        ExpiresDefault "access plus 0 seconds"
        Header set Cache-Control "public, max-age=0, must-revalidate"
    </FilesMatch>
</IfModule>

# Compression (Gzip)
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/css text/javascript application/javascript application/json image/svg+xml
</IfModule>
