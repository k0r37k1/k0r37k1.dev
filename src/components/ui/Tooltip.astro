---
/**
 * Alpine.js Tooltip Fallback Component
 *
 * Nutzt @alpinejs/anchor Plugin (basiert auf Floating UI)
 * VERWENDUNG: Nur als Fallback wenn Tooltip.vue Probleme macht!
 */

interface Props {
	content: string;
	side?: 'top' | 'bottom' | 'left' | 'right';
}

const { content, side = 'top' } = Astro.props;
---

<div x-data="{ show: false }" style="display: inline-block;">
	<!-- Trigger -->
	<span
		x-ref="trigger"
		@mouseenter="show = true"
		@mouseleave="show = false"
		style="display: inline-block;"
	>
		<slot />
	</span>

	<!-- Tooltip Content - mit statischen Directives fÃ¼r jede Position -->
	{
		side === 'top' && (
			<div
				x-show="show"
				x-anchor.top.offset.5="$refs.trigger"
				x-transition
				class="tooltip__content"
				role="tooltip"
				x-cloak
			>
				{content}
			</div>
		)
	}
	{
		side === 'bottom' && (
			<div
				x-show="show"
				x-anchor.bottom.offset.5="$refs.trigger"
				x-transition
				class="tooltip__content"
				role="tooltip"
				x-cloak
			>
				{content}
			</div>
		)
	}
	{
		side === 'left' && (
			<div
				x-show="show"
				x-anchor.left.offset.5="$refs.trigger"
				x-transition
				class="tooltip__content"
				role="tooltip"
				x-cloak
			>
				{content}
			</div>
		)
	}
	{
		side === 'right' && (
			<div
				x-show="show"
				x-anchor.right.offset.5="$refs.trigger"
				x-transition
				class="tooltip__content"
				role="tooltip"
				x-cloak
			>
				{content}
			</div>
		)
	}
</div>

<style>
	[x-cloak] {
		display: none !important;
	}
</style>
